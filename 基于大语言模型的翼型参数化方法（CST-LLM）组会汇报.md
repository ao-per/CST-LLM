# 基于大语言模型的翼型参数化方法（CST-LLM）组会汇报

## 一、研究背景与意义

在翼型设计优化中，参数化方法起着关键作用，它能将大量离散坐标点转化为简洁可控的参数集，直接决定设计空间的范围与质量，还会影响优化问题的数学特性及收敛速度与最终结果。理想的参数化方法需用较少控制参数实现精准的几何表征，但现有方法存在明显不足：一方面，要精准表示大型翼型库中 80% 以上的翼型，至少需要 25 个参数，超出二维几何设计优化的最优参数数量；另一方面，主流的 CST（Class/Shape function Transformation）参数化方法在增加控制参数时，会出现参数化矩阵病态问题，影响几何表征精度，且在翼型前缘等关键区域，低阶 CST 方法难以满足风洞试验公差要求。

近年来，大语言模型（LLM）在科学发现领域崭露头角，其无需大量领域专业知识就能实现函数与算法设计的特性，为改进翼型参数化方法提供了新思路。本研究提出基于预训练 LLM 的符号回归方法，用于优化 CST 参数化方法，旨在解决现有方法参数数量多、表征精度不足等问题，同时为 LLM 在航空航天领域的科学研究应用提供参考。

## 二、相关基础理论

### （一）翼型参数化方法分类

翼型参数化方法主要分为变形类方法和构造类方法。变形类方法以现有翼型为基础进行变形生成新翼型，如 Hicks-Henne 方法通过给基准翼型上下表面叠加正弦函数组合实现变形，FFD（Free Form Deformation）方法通过控制 points 移动实现翼型几何的平滑连续体积变换，这类方法对特定翼型拟合能力较强，但随着翼型库规模扩大，参数效率较低。构造类方法基于特定参数直接构建翼型几何，如 PARSEC 方法用 6 阶多项式表征翼型上下表面，B-spline 方法通过控制点构建分段多项式曲线，CST 方法则结合类函数与形状函数表征翼型，在翼型库规模扩大时，构造类方法参数效率更优，能以较少参数保持较高表征精度，其中 CST 方法因优异性能成为当前主流方法之一。

### （二）CST 参数化方法原理

CST 方法的数学表达式为$C(x)S(x)+xz_{TE}$，其中$C(x)$为类函数，$S(x)$为形状函数，$xz_{TE}$表征翼型后缘厚度，$x$取值范围为 \[0,1] 且翼型坐标已归一化。类函数$C(x)=x^{N_1}(1 - x)^{N_2}$，$N_1$和$N_2$为超参数，针对具有钝前缘、尖后缘的翼型，通常取$N_1 = 0.5$，$N_2 = 1$。形状函数一般采用 Bernstein 多项式，表达式为$S(x)=\sum_{i=0}^{N}A_iS_{i,N}(x)$，其中$S_{i,N}(x)=\frac{N!}{i!(N - i)!}x^i(1 - x)^{N - i}$，$A_i$通过离散坐标回归（如最小二乘回归）获取。由于需分别表征翼型上下表面，N 阶 CST 方法的参数数量为$2(N + 1)$。

## 三、LLM-based 符号回归方法框架与实验设计

### （一）方法框架

本研究通过 LLM-based 符号回归方法设计特征变换函数$t(x)$，替换 CST 方法中类函数与形状函数的自变量$x$，得到改进的 CST-LLM 方法，表达式为$z_{new}=C(t(x))\cdot S(t(x))+x\cdot z_{TE}$。该方法框架主要包括以下步骤：



1. **初始化**：基于自然语言形式的初始化提示，利用预训练 LLM 生成包含 M 个函数的初始种群。

2. **评估**：将生成的函数用于改进 CST 方法，通过训练集中翼型几何恢复测试的拟合误差加权和，评估改进后 CST 方法的性能。

3. **进化**：采用 4 种不同探索与利用权衡策略的进化提示，基于前一代种群各生成 M 个新函数，共得到 4M 个新函数。

4. **种群管理**：根据适应度值排序，选取当前种群中前 M 个函数组成下一代种群。

5. **迭代**：重复上述步骤，直至设计出满足要求的函数。

与传统 GP（Genetic Programming）-based 符号回归方法相比，该方法无需预先指定基本数学运算符，能通过自然语言向 LLM 传递数学洞察（如函数需连续、可微等），降低了对领域专业知识的依赖，且结合进化框架能有效筛选 LLM 生成的错误输出（如幻觉现象产生的无效函数）。

### （二）实验设计



1. **数据集**：从 UIUC 翼型库中随机选取 1000 个翼型作为训练集，包含 NACA、Eppler、RAE 等多个翼型家族，剩余翼型中随机选取 500 个作为测试集，翼型以.dat 文件存储，离散点数量在 24-205 之间。

2. **实验设置**：采用 GPT-4o-mini 作为预训练 LLM，进化最大代数设为 20，种群规模为 15，在单个 AMD Ryzen 7 5800H CPU 上运行。设计 3 组实验：实验 A 使用无数学洞察的简单提示；实验 B 在提示中加入简单数学洞察（函数需连续、可微、在 \[0,1] 区间单调递增且为正，x=0 和 x=1 时函数值分别为 0 和 1）；实验 C 将实验 B 中表现最优的 15 个函数加入初始种群。每组实验独立重复 5 次，同时进行 GP-based 符号回归方法实验作为对比，GP 方法中种群规模、进化代数与 LLM 方法一致，初始交叉概率 0.8、变异概率 0.1，表达式树深度限制为 4，包含加、减、乘、除、正弦、余弦等多种数学运算符。

3. **评估指标**：采用拟合误差加权和作为目标函数，表达式为$fitting\ error=\sum_{k}^{K}\sum_{i=1}^{n}w|z_i - z_{order=k}(x_i)|$（K=6,8,10），其中$n$为翼型上下表面总点数，$z_i$为真实 z 坐标，$z_{order=k}(x_i)$为改进 CST 方法计算的 z 坐标，权重$w$在 x<0.2 时取 2（前缘需更高精度），x≥0.2 时取 1。

## 四、实验结果与分析

### （一）LLM-based 符号回归方法实验结果



1. **实验 A 结果**：5 组独立实验均收敛，但部分实验未取得理想结果，仅少数函数性能优于基准 CST 方法（基准目标值 42.28），且生成了较多无效函数（如$y=-x$、$y=random(x)$），导致目标值为 NaN，同时出现表达式不同但在 \[0,1] 区间等效的重复函数，设计效率较低。不过，该实验也体现了 LLM 方法的优势，能使用 max、sigmoid 等传统符号回归中较少考虑的运算符。

2. **实验 B 结果**：加入数学洞察后，5 组实验收敛速度加快，生成的有效函数数量显著增加，无效函数数量大幅减少，最优函数目标值降至 31.05，设计效率显著提升，表明 LLM 能有效理解自然语言传递的数学洞察，无需复杂编码即可实现设计需求。

3. **实验 C 结果**：将实验 B 最优函数加入初始种群后，5 组实验生成的函数性能进一步提升，最优函数目标值降至 29.40，且所有函数均能提升 CST 方法性能，无 NaN 目标值情况，说明合理选择初始种群能进一步提高 LLM-based 符号回归方法的设计效率。

### （二）与 GP-based 符号回归方法对比

GP 方法实验结果显示，其最优函数目标值为 32.23，仅与实验 A 性能相当，无法达到实验 B 和实验 C 的水平。且 GP 方法需预先编码数学约束，无法像 LLM 方法那样通过自然语言便捷传递设计需求，也不具备自动总结优秀设计结果特征的能力，进一步凸显了 LLM-based 符号回归方法的优势。

### （三）设计函数数学特征

对实验 C 中最优的 5 个函数分析发现，这些函数在翼型前缘（x=0 附近）为凹函数且曲率较大，经函数变换后，CST 方法中 Bernstein 多项式项的峰值向前缘偏移，使得改进后的 CST-LLM 方法在翼型前缘集中更多控制点，增强了前缘几何表征能力，这与专家改进 CST 方法的思路一致。同时，虽然前缘拟合精度提升可能导致后缘精度略有下降，但考虑到前缘对翼型气动性能的重要性，这种精度权衡在多数情况下是可接受的。

## 五、CST-LLM 方法验证

### （一）几何恢复测试验证

选取实验 C 中最优函数$t_{c1}(x)=0.5\cdot x + 0.5\cdot np\cdot sign(x)\cdot|x|^{1/3}$构建 CST-LLM 方法，在测试集上评估 4-12 阶 CST-LLM 方法的表征精度，并与基准 CST、CST-LEM、B-spline、PARSEC、Hicks-Henne 等方法对比。表征精度定义为测试集中在风洞试验公差内（x<0.2 时公差 3.5×10⁻⁴，x≥0.2 时公差 7×10⁻⁴）精准拟合的翼型比例。结果显示，在相同参数数量下，CST-LLM 方法的表征精度显著高于其他方法，能更精准地表示不同类型翼型，为翼型设计优化提供更完整的设计空间。

对弯度薄翼型（如 E63、S1223）、平底翼型（如 Clark Y、NACA 65-019）、对称翼型（如 EPPLER 476、OAF128）和后加载翼型（如 RAE 5214、NLR 7301）的拟合结果分析发现，CST-LLM 方法在翼型前缘拟合精度上提升尤为明显，仅在少数后缘几何变化较大的翼型（如 NACA66-215、EPPLER 340）上后缘精度略有下降，但整体仍优于基准 CST 方法。

### （二）翼型设计优化验证

以 RAE 5214 翼型为研究对象，分别采用 4 阶和 6 阶 CST 与 CST-LLM 方法进行气动设计优化，优化目标为最小化阻力系数$C_d$，约束条件为升力系数$C_l\geq0.88$、俯仰力矩系数$C_m\geq - 0.078$、厚度$t\geq0.095$，马赫数设为 0.735，雷诺数为 6.5×10⁶，采用基于 RANS 方程的 CFD 求解器（Spalart-ALLMaras 湍流模型）计算气动特性，结合克里金代理模型与拉丁超立方采样（LHS）进行优化，每组实验独立重复 5 次。

结果显示，CST-LLM 方法优化效果显著优于基准 CST 方法：4 阶 CST-LLM 方法最优$C_d$为 113（cts），优于 4 阶 CST 方法的 123（cts）；6 阶 CST-LLM 方法最优$C_d$为 108（cts），优于 6 阶 CST 方法的 114（cts），且 4 阶 CST-LLM 方法优化结果接近 6 阶 CST 方法，进一步验证了 CST-LLM 方法在参数效率和优化性能上的优势。从压力系数分布和压力云图来看，CST-LLM 方法设计的翼型能更有效降低激波强度，尤其在 4 阶情况下优势更明显。

## 六、研究结论与未来方向

### （一）研究结论



1. 提出的 LLM-based 符号回归方法能有效利用 LLM 的推理与综合能力，通过自然语言传递设计需求，无需传统符号回归方法的复杂编码过程，降低了翼型参数化方法改进的技术门槛，设计师可从基础指令开始，逐步结合 LLM 总结的优秀设计经验优化设计过程。

2. 与 GP-based 符号回归方法相比，LLM-based 方法无需预先指定数学运算符，搜索空间更大，设计灵活性更高，且设计的特征变换函数能直接应用于气动设计优化，几乎无额外计算成本。

3. CST-LLM 方法通过将 C (x) S (x) 项峰值向前缘偏移，显著提升了翼型前缘几何表征精度，满足前缘对拟合精度的严苛要求，在几何恢复测试中表现优于多种主流参数化方法，在 RAE 5214 翼型设计优化中能以更少参数实现更优的气动性能。

### （二）未来方向



1. 目前 LLM 设计的函数系数较为简单（多为整数），后续将结合 BFGS 等优化算法实现系数的双层搜索，提升函数设计精度。

2. 进一步研究 LLM 在符号回归过程中的反思性分析能力，实现设计函数特征的自动评估，提高设计过程的自动化水平。

3. 针对 CST-LLM 方法在少数后缘几何变化较大翼型上精度不足的问题，将优化训练集结构（增加后缘几何变化显著的翼型样本），设计专用特征变换函数，并探索基于 LLM 设计全新翼型参数化方法的可行性。